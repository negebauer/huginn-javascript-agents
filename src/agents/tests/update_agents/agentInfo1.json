{
  "agentName": "js_aftership_format",
  "agentCode": "/*\n2020-02-20T06:58:54.440Z\nThu Feb 20 2020 03:58:54 GMT-0300 (Chile Summer Time)\nusername:     nico\ncommit:       24fedde1ab12609f032e65f8b831fb2a904d3047\nbranch:       agents-deploy\ncompareUrl:   local\npullRequest:  local or no pr\nbuildUrl:     local\nbuildNumber:  local\njob:          local\n*/\n!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t){function n(e,{subtag:t,subtag_message:n,last_updated_at:r}){return e?`checkpoint#${e.checkpoint_time}`:`tag#${t}-${n}-${r}`}function r({title:e,tracking_number:t}){return`[Package] ${e} #${t}`}function o({title:e,tracking_number:t}){return`No update for ${e} - ${t}`}function c({tracking_number:e,slug:t,expected_delivery:n,subtag_message:r,title:o,checkpoints:c,delivery_time:i}){return`<h1>${o} - ${e}<\/h1>\\n  <h2>${r} - ${t}<\/h2>\\n  <br/>\\n  <div>${i} days<\/div>\\n  ${n?`<div>Expected: ${n}<\/div>`:\"\"}\\n  ${c.length>0?\"<br/><h2>Checkpoints<\/h2><br/>\":\"\"}`}function i({location:e,message:t,checkpoint_time:n,tag:r,subtag_message:o}){return`<br/>\\n  <h3>${r} - ${n}<\/h3>\\n  <h4>${o}<\/h4>\\n  <h5>${t}<\/h5>\\n  ${e?`<div>${e}<\/div>`:\"<br/>\"}`}function a(){}function u({event:e,Agent:t}){const a=function(e,t){if(!e)return t.log(\"No event\");const{payload:n}=e;if(!n)return t.log(\"No payload\");const{data:r}=n;if(!r)return t.log(\"No data\");const{trackings:o}=r;return o?0===o.length?t.log(\"Trackings is empty\"):o:t.log(\"No trackings\")}(e,t);a&&a.forEach(e=>{const{id:a,last_updated_at:u,subtag:s,subtag_message:g,checkpoints:l}=e;let d=c(e);const f=l.sort((e,t)=>e.checkpoint_time<t.checkpoint_time?1:e.checkpoint_time>t.checkpoint_time?-1:0);f.forEach(e=>{d+=i(e)});const p=t.memory(a),h=n(f[0],{subtag:s,subtag_message:g,last_updated_at:u});p!==h?(t.memory(a,h),t.createEvent({subject:r(e),body:d.replace(/\\n/g,\"\")})):t.log(o(e))})}function s(){return u({Agent:this,event:this.incomingEvents()[0]})}Agent.check=a,Agent.receive=s,e.exports={generateSnapshot:n,trackingSubject:r,trackingNoUpdate:o,trackingBody:c,checkpointBody:i,check:a,receive:u,agentReceive:s}}]);"
}
